<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1173354761237704');  <!-- Novo Pixel ID -->
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1173354761237704&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->

<div style="
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:80vh;
  padding:20px;
">
  <button id="purchaseButton" style="
    padding:16px 32px;
    font-size:1rem;
    color:#fff;
    background:#007BFF;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    transition:all 0.3s ease;
    width:100%;
    max-width:280px;
  ">
    Clique Aqui
  </button>
</div>

<script>
  // Verifica se o botão já foi clicado anteriormente
  if(localStorage.getItem('buttonClicked') === 'true') {
    const button = document.getElementById("purchaseButton");
    button.disabled = true;
    button.innerText = "Compra Concluída ✓";
    button.style.background = "#4CAF50";
  }

  // Função para aguardar o Pixel carregar
  function checkPixelLoaded() {
    if(typeof fbq === 'undefined') {
      setTimeout(checkPixelLoaded, 200);
    } else {
      document.getElementById("purchaseButton").addEventListener("click", function() {
        this.style.opacity = "0.8";
        fbq('track', 'Purchase', {value:14.00, currency:'BRL'});  <!-- Evento de compra -->
        this.disabled = true;
        this.innerText = "Compra Concluída ✓";
        this.style.background = "#4CAF50";
        this.style.opacity = "1";
        
        // Armazena no localStorage que o botão foi clicado
        localStorage.setItem('buttonClicked', 'true');
      });
    }
  }
  checkPixelLoaded(); // Inicia a verificação
</script>
